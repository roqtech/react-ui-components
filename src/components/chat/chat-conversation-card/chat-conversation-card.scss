@import "../../../styles/styles.scss";

$chat-conversation-font-card-line-height: $default-font-line-height;

:root {
  --rc-chat-conversation-card-border-radius: var(--rc-layout-border-radius);
  --rc-chat-conversation-card-padding: calc(var(--rc-layout-step) * 6);

  --rc-chat-conversation-card-background: var(--rc-white);
  --rc-chat-conversation-card-shadow: 0px 4px 16px rgba(13, 28, 70, 0.05);
  --rc-chat-conversation-card-border: none;

  --rc-chat-conversation-card-hover-background: var(--rc-blueGray-50);
  --rc-chat-conversation-card-hover-border: var(
    --rc-chat-conversation-card-border
  );
  --rc-chat-conversation-card-hover-shadow: var(
    --rc-chat-conversation-card-shadow
  );

  --rc-chat-conversation-card-active-background: var(--rc-blueGray-300);
  --rc-chat-conversation-card-active-border: var(
    --rc-chat-conversation-card-border
  );
  --rc-chat-conversation-card-active-shadow: none;

  --rc-chat-conversation-card-selected-background: var(
    --rc-chat-conversation-card-active-background
  );
  --rc-chat-conversation-card-selected-border: var(
    --rc-chat-conversation-card-active-border
  );
  --rc-chat-conversation-card-selected-shadow: var(
    --rc-chat-conversation-card-active-shadow
  );

  --rc-chat-conversation-card-selected-hover-background: var(
    --rc-chat-conversation-card-selected-background
  );
  --rc-chat-conversation-card-selected-hover-border: var(
    --rc-chat-conversation-card-selected-border
  );
  --rc-chat-conversation-card-selected-hover-shadow: var(
    --rc-chat-conversation-card-selected-shadow
  );

  --rc-chat-conversation-card-title-margin: calc(var(--rc-layout-step) * 3);

  --rc-chat-conversation-card-title-name-font-weight: var(
    --rc-font-weight-bolder
  );
  --rc-chat-conversation-card-title-name-color: var(--rc-blueGray-800);

  --rc-chat-conversation-card-title-timestamp-font-weight: var(
    --rc-font-weight-bold
  );
  --rc-chat-conversation-card-title-timestamp-color: var(--rc-blueGray-500);

  --rc-chat-conversation-card-message-margin: calc(var(--rc-layout-step) * 3);
  --rc-chat-conversation-card-message-font-family: var(--rc-primary-font);
  --rc-chat-conversation-card-message-color: var(--rc-blueGray-500);
  --rc-chat-conversation-card-message-font-size: var(
    --rc-stacked-text-size-primary
  );

  --rc-chat-conversation-card-message-line-height: var(
    #{$chat-conversation-font-card-line-height}
  );

  --rc-chat-conversation-card-message-unread-font-weight: var(
    --rc-font-weight-bolder
  );
}

@include roq-component("chat-conversation-card") {
  $container: &;

  padding: var(--rc-chat-conversation-card-padding);
  background-color: var(--rc-chat-conversation-card-background);
  border: var(--rc-chat-conversation-card-border);
  border-radius: var(--rc-chat-conversation-card-border-radius);
  box-shadow: var(--rc-chat-conversation-card-shadow);

  cursor: pointer;

  &:hover {
    background-color: var(--rc-chat-conversation-card-hover-background);
    box-shadow: var(--rc-chat-conversation-card-hover-shadow);
    border: var(--rc-chat-conversation-card-hover-border);
  }

  &:focus {
    background-color: var(--rc-chat-conversation-card-active-background);
    box-shadow: var(--rc-chat-conversation-card-active-shadow);
    border: var(--rc-chat-conversation-card-active-border);
  }

  &--selected {
    border: var(--rc-chat-conversation-card-selected-border);
    background-color: var(--rc-chat-conversation-card-selected-background);
    box-shadow: var(--rc-chat-conversation-card-selected-shadow);

    &:hover {
      border: var(--rc-chat-conversation-card-selected-hover-border);
      background-color: var(
        --rc-chat-conversation-card-selected-hover-background
      );
      box-shadow: var(--rc-chat-conversation-card-selected-hover-shadow);
    }

    #{$container} {
      &__top {
        &__actions {
          &__unread {
            display: none;
          }
        }
      }
    }
  }

  &__top {
    color: inherit;
    display: flex;
    align-items: center;
    line-height: 1;
    width: 100%;

    &__avatars {
    }

    &__title {
      padding-left: var(--rc-chat-conversation-card-title-margin);
      font-weight: var(--rc-weight-medium);

      &__name {
        font-weight: var(--rc-chat-conversation-card-title-name-font-weight);
        color: var(--rc-chat-conversation-card-title-name-color);
      }

      &__timestamp {
        font-weight: var(
          --rc-chat-conversation-card-title-timestamp-font-weight
        );
        color: var(--rc-chat-conversation-card-title-timestamp-color);
      }
    }

    &__actions {
      flex-shrink: 0;
      min-width: 0;
      // color: theme.palette.common.white,
      // backgroundColor: '#FDA4AF',
      // borderRadius: theme.spacing(2),
      // minWidth: theme.spacing(4),
      // minHeight: theme.spacing(4),
      // position: 'unset',
      // transform: 'unset',

      &__unread {
        // position: absolute;
        width: 40px;
        height: 24px;

        &__count {
          width: 40px;
          background: #cbd5e1;
          color: #0f172a;
          border-radius: 8px;
          transform: translate3d(0, 0, 0);
        }
      }
    }
  }

  &__message {
    min-width: 0px;
    max-width: 100%;
    flex: 1 1 100%;
    margin: 0px;
    padding: 0px;

    margin-top: var(--rc-chat-conversation-card-message-margin);
    font-family: var(--rc-chat-conversation-card-message-font-family);
    color: var(--rc-chat-conversation-card-message-color);
    font-size: var(--rc-chat-conversation-card-message-font-size);
    line-height: var(--rc-chat-conversation-card-message-line-height);

    @include line-clamp(2, $chat-conversation-font-card-line-height);
  }

  &--unread {
    #{$container} {
      &__message {
        // color: red;
        font-weight: var(
          --rc-chat-conversation-card-message-unread-font-weight
        );
      }
    }
  }
}
